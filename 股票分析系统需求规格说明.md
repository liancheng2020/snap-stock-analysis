# AI 智能股票分析系统 - 需求规格说明书

## 1. 项目概述

本系统旨在构建一个基于 AI 多智能体（Multi-Agent）协作的深度股票分析平台。通过整合实时行情、财务报表、新闻资讯及社交媒体情绪，由多个专业分工的 AI 角色共同产出深度投资研究报告。

## 2. 核心功能模块

### 2.1 单股分析（核心看板）

_参考 ![单股分析界面](./single.png) 设计：_

- **输入配置：**
- **股票识别：** 支持输入股票代码（如 `000001`）或名称，自动匹配市场类型（A股、港股、美股）。
- **分析日期：** 默认当前日期，支持回溯历史日期进行分析。

- **分析深度设置（Level 1-5）：**
- **快速模式：** 基础数据概览（2-5分钟）。
- **深度/全面模式：** 触发多智能体辩论机制，覆盖技术面+基本面全维度（8-16分钟）。

- **分析师团队（Agent 角色选择）：**
- **市场分析师：** 宏观环境与行业动态。
- **基本面分析师：** 财务健康度与核心竞争力。
- **新闻分析师：** 近期公告与重大事件解读。
- **社媒分析师：** 散户情绪与舆论导向（需区分数据源限制）。

### 2.2 任务中心与状态追踪

- **异步处理：** 分析任务提交后进入后台排队，支持多任务并发。
- **进度反馈：** 实时展示各智能体的工作状态（如：_“基本面分析师正在读取财报...”_）。
- **结果归档：** 分析完成后的报告自动保存至“分析报告”历史库中。

### 2.3 系统配置（设置中心）

- **AI 模型管理：**
- **多模型适配：** 支持 DeepSeek、GPT-4、Claude、Qwen 等模型切换。
- **分级策略：** 允许设置“快速模型”处理基础文本，“深度模型”处理复杂决策。

- **API 密钥管理：** 提供各模型供应商的 Key 配置与可用性测试（包含 401 报错自动提醒）。

---

## 3. 技术需求

### 3.1 数据集成

- **行情数据：** 接入 Tushare、AkShare 或 yfinance 获取 K 线及财务数据。
- **资讯数据：** 实时爬取财联社、东方财富等主流金融媒体。

### 3.2 多智能体架构（Multi-Agent）

- **协作流：** 采用 `Researcher -> Critic -> Writer` 模式。
- **共识机制：** 当多个分析师观点冲突时，由“首席分析师”角色进行总结陈述并给出最终评分（0-100分）。

---

## 4. UI/UX 设计要求

- **布局风格：** 采用侧边导航栏+顶部状态栏，主内容区采用模块化卡片设计。
- **交互体验：**
- **响应式：** 适配不同分辨率显示。
- **即时反馈：** 所有涉及长耗时的 AI 操作必须有明确的 Loading 状态。
- **错误处理：** 针对“后端连接失败”或“接口 401”需有友好的提示及重试机制。

---

## 5. 待办事项 (Next Steps)

- [ ] 确定数据源 API 供应商及预算。
- [ ] 搭建基于 Docker 的开发环境（Nginx + Backend + Frontend + Redis + MongoDB）。
- [ ] 编写初始化脚本：[导入默认配置与创建管理账号]。
- [ ] 调试 DeepSeek 等大模型的 API 连通性。

---

**你想让我为你进一步细化哪个部分？例如：**

1. 具体的 **数据库表结构** 设计？
2. Nginx **反向代理配置** 的标准模板？
3. **AI 分析师角色** 的具体 Prompt（提示词）设计？
